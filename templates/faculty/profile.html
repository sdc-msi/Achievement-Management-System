{% extends 'base.html' %}
{% block heading %}
{% endblock heading %}
{% block content %}

<style>
    main {
        display: flex;
        justify-content: center;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        background-color: #f4f2ee;
    }

    .container {
        background-color: rgba(203, 234, 243, 0.671);
        width: 900px;
        padding: 20px;
        background-color: #f4f2ee;
    }

    .section {
        background-color: white;
        padding: 20px;
        margin: 20px 0px;
        border: 1px solid #dfdeda;
        border-radius: 8px;
    }

    .section-head {
        display: flex;
        justify-content: space-between;
        padding: 5px 0px;
    }

    .section-name {
        font-size: 20px;
        font-weight: 600;
    }

    .section-body-heading {
        font-size: 16px;
        font-weight: 550;
        padding: 2px 0;
    }

    .section-body-para {
        font-size: 14px;
    }

    .section-body {
        padding: 5px 0;
    }

    .add-edit-btn {
        background-color: #3b444bd5;
        color: white;
        border: none;
        /* padding: 3px 3px; */
        width: 25px;
        height: 25px;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 3px;
    }

    .add-edit-btn:hover {
        /* background-color: #2d4373; */
    }

    /* Hero & Intro */
    .hero {
        position: relative;
    }

    .hero-banner {
        width: 100%;
        height: 200px;
    }

    .hero-banner img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 8px 8px 0 0 ;
        object-position: center;
    }

    .hero-avatar {
        width: 160px;
        height: 160px;
        position: absolute;
        bottom: -80px;
        left: 20px;
    }

    .hero-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        border-radius: 50%;
        border: 5px solid #fff;
    }

    .intro {
        margin-top: 70px;
        padding: 20px;
    }

    .intro-name {
        font-size: 30px;
        font-weight: 600;
    }

    .intro-desc {
        font-size: 16px;
        color: #232323;
        margin-bottom: 20px;
    }

    /* Form Elements */
    .form-row {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }

    .form-row label {
        font-size: 14px;
        margin-right: 10px;
        width: 150px;
        /* Adjust this value to control label width */
        text-align: right;
    }

    input[type="text"],
    input[type="number"],
    textarea,
    select {
        width: 100%;
        max-width: 400px;
        padding: 6px;
        /* Reduced padding to decrease height */
        margin: 0;
        display: inline-block;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        font-size: 14px;
        line-height: 1.2;
        /* Adjust line-height for smaller height */
    }

    input[type="submit"],
    button[type="button"] {
        background-color: darkblue;
        color: white;
        padding: 8px 16px;
        /* Reduced padding */
        margin: 10px 0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
    }

    input[type="submit"]:hover,
    button[type="button"]:hover {
        background-color: #2d4373;
    }

    form {
        max-width: 600px;
        margin: 0 auto;
    }

    /* Personal Info */
    .personal-info-dob-gender {
        padding: 5px 0;
    }

    .personal-info-dob-gender span {
        padding: 0 20px 0 0;
        font-size: 14px;
    }

    .personal-info-name {
        font-size: 14px;
    }

    /* Contact Info */
    #contact-info-section-body div span {
        font-size: 14px;
    }

    #contact-info-section-body div {
        padding: 0 0 5px 0px;
    }

    /* Timeline Experience */
    .timeline {
        max-width: 600px;
        position: relative;
        margin: 15px 60px;
    }

    .timeline::before {
        content: '';
        position: absolute;
        width: 3.5px;
        background: #ddd;
        top: 0;
        bottom: 0;
        left: 54.5px;
    }

    .event {
        padding: 10px 20px;
        position: relative;
        margin-left: 60px;
    }

    .event::before {
        content: '';
        position: absolute;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #838383;
        top: 28px;
        left: -10px;
    }

    .dates {
        position: absolute;
        left: -90px;
        top: 15px;
        font-size: 14px;
        font-weight: 550;
    }

    .end-date {
        margin-top: 5px;
    }

    .event p {
        margin: 5px 0 0;
    }

    strong {
        display: block;
        font-size: 16px;
        margin-bottom: 5px;
    }

    /* Honours and Awards */
    #honours-and-awards-section-body {
        display: flex;
        flex-direction: column;
    }

    .doctoral-theses-guided-item,
    .award-item {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }

    .year-box {
        background-color: #3B444B;
        color: white;
        padding: 8px 15px;
        font-size: 18px;
        font-weight: bold;
        margin-right: 15px;
        border-radius: 1px;
    }

    .doctoral-theses-guided-details,
    .honours-and-awards-details {
        display: flex;
        flex-direction: column;
    }

    .doctoral-theses-guided-title,
    .award-title {
        font-size: 16px;
        margin-bottom: 5px;
    }

    .doctoral-theses-guided-institute-and-researcher span,
    .award-institution {
        font-size: 14px;
        color: #666;
    }

    /* Research Projects */
    #research-projects-section-body {
        padding: 16px;
    }

    .research-project-title {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 8px;
    }

    .funding-agency {
        color: #555;
        margin-bottom: 14px;
    }

    .funding-agency i {
        margin-right: 4px;
    }

    .research-projects-details {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 16px;
    }

    .research-projects-detail-item {
        display: flex;
        align-items: center;
        font-size: 14px;
    }

    .research-projects-detail-item i {
        margin-right: 4px;
    }

    /* Patents */
    #patent-section-body {
        font-family: Arial, sans-serif;
        margin: 20px;
    }

    #patent-section-body span {
        display: block;
        margin-bottom: 5px;
    }

    #patent-section-body .title {
        font-weight: bold;
    }

    #patent-section-body .icon {
        margin-right: 5px;
    }

    #patent-section-body .approved {
        color: green;
    }

    /* Publications */
    #publications-section-body {
        padding: 15px;
        border-radius: 5px;
        max-width: 800px;
        margin: auto;
    }

    .publications-title {
        font-size: 16px;
        font-weight: 500;
        margin-bottom: 10px;
    }

    .publications-authors {
        color: #666;
        font-size: 14px;
        margin-bottom: 10px;
    }

    .publications-footer {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }

    .publications-tag {
        background-color: #2a9d8f;
        color: white;
        padding: 4px 10px;
        border-radius: 3px;
        font-size: 0.9em;
        margin-right: 10px;
    }

    .publications-journal-details {
        font-size: 0.9em;
        color: #333;
    }

    .publications-volume,
    .publications-year,
    .publications-pages {
        font-weight: bold;
    }

    .each-publication,
    .each-patent,
    .each-research-project {
        border: 1px solid rgb(194, 194, 194);
        border-top: 3px solid #3B444B;
        padding: 20px;

        
    }

    .each-patent .title {
        font-size: 16px;
    }

    .each-patent span {
        font-size: 14px;
    }



    

/* *************************************************** */



    .event {
    position: relative;
    padding: 10px;
    border: 1px solid #ffffff;
    border-radius: 5px;
    margin-bottom: 10px;
    background-color: #ffffff;
}







/* ********************************************************************* */

.section .event {
    position: relative;
    padding-right: 100px; 
}



.section .dates {
    margin-right: 110px; 
}


/* *********************************************** */


.section .award-item {
    position: relative;
    padding: 20px;
    border: 1px solid rgb(194, 194, 194);
        border-top: 3px solid #3B444B;
        padding: 20px;
    /* padding-right: 100px;  */
}



.section .year-box, .section .honours-and-awards-details {
    margin-right: 110px;
}



/* ************************************************************ */
.section .doctoral-theses-guided-item {
    position: relative;
    /* padding: 15px; */
    margin-bottom: 10px;
    /* border: 1px solid #ddd; */
    /* border-radius: 5px; */

    border: 1px solid rgb(194, 194, 194);
    border-top: 3px solid #3B444B;
    padding: 20px;
}


.section .year-box, .section .doctoral-theses-guided-details {
    margin-right: 120px; /* Adjust to ensure text doesn't overlap with buttons */
}

/* ********************************************************************* */
.section .timeline .event {
    position: relative;
    padding: 15px;
    margin-bottom: 10px;
    border: 1px solid #ffffff;
    border-radius: 5px;
}



.section .dates, .section p {
    margin-right: 120px; /* Adjust to ensure text doesn't overlap with buttons */
}








/* ************************************************************* */

.each-research-project {
    position: relative;
    /* padding: 20px; */
    /* border: 1px solid #ddd; */
    /* border-radius: 4px; */
    margin-bottom: 20px;

    border: 1px solid rgb(194, 194, 194);
        border-top: 3px solid #3B444B;
        padding: 20px;
}




/* ******************************************************************* */
            .each-patent {
                position: relative;
                padding: 1rem;
                border: 1px solid #ccc;
                margin-bottom: 1rem;
                border: 1px solid rgb(194, 194, 194);
                border-top: 3px solid #3B444B;
                padding: 20px;
            }
        
            .patent-buttons {
                position: absolute;
                top: 10px;
                right: 10px;
                display: flex;
                gap: 10px;
            }
        
            /* .btn-update, .btn-delete {
                background-color: #007bff;
                color: white;
                border: none;
                padding: 0.25rem 0.5rem;
                border-radius: 4px;
                cursor: pointer;
            } */
        
            /* .btn-delete {
                background-color: #dc3545;
            }
         */
            .btn-update:hover, .btn-delete:hover {
                opacity: 0.8;
            }

            /* ******************************************* */
            .each-publication, .each-patent, .each-research-project {
    position: relative;
}






/* //////////////////////////////////////////////////////////////////////// */





.publication-buttons, .patent-buttons, .update-delete-button-container {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    gap: 10px;
}

.publication-buttons button, .patent-buttons button, .update-delete-button-container button {
    background-color: darkblue;
    border: none;
    color: #ffffff;
    padding: 5px 10px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 12px;
    cursor: pointer;
    border-radius: 4px;
}

.publication-buttons .btn-delete, .patent-buttons .btn-delete, .update-delete-button-container .delete-button {
    background-color: #dc3545;
}


/* //////////////////////////////////////////////////////////////////////// */
</style>

<main>


    <div class="container">


        <div class="section" style="padding: 0;">
            <div class="hero">
                <div class="hero-banner">
                    <img src="https://thumbs.dreamstime.com/b/wall-backgrounds-16268126.jpg" alt="">
                </div>
                <div class="hero-avatar">
                    <img src="{{faculty.user.profile_picture.url}}"
                        alt="">
                </div>
            </div>

            <div class="intro">
                <div class="intro-name">
                {{ faculty.user.first_name }} {{ faculty.user.last_name }}
                </div>
                <div class="intro-desc">
                    <span>{{ faculty.designation|capfirst }}</span>
                    <p>New Delhi, Delhi, India</p>
                    <p>{{ education_string | join:", " }}</p>

                </div>
            </div>
        </div>

        {% if faculty.about %}
        <div class="section" id="about">

            <div class="section-head">
                <span class="section-name">About</span>
                {% if  is_own_profile %}
                <button class="add-edit-btn" onclick="toggleAbout()"><i class="fa-solid fa-pen-to-square"></i></button>
                {% endif %}
            </div>

            <p id="about-para" class="about-desc section-body-para">
                {{faculty.about}}
            </p>
        
            <form id="about-form" style="display: none;" method="POST" action="{% url 'fams:add_about' %}">
                {% csrf_token %}

                    <textarea id="brief-info" name="about" rows="4"></textarea>
                <button type="submit">Save</button>
                <button type="button" onclick="toggleAbout()">Cancel</button>
            </form>
        </div>
        {% endif %}




        {% if faculty.expertise %}
        <!-- Expertise -->
        <div class="section">
            <div class="section-head">
                <span class="section-name">Expertise</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="toggleExpertise()"><i class="fa-solid fa-pen-to-square"></i></button>
                {% endif %}
            </div>

            <div id="expertise-body" class="section-body">
                
                <p class="expertise-heading section-body-heading">
                 {{faculty.expertise}}   
                </p>
            </div>

            <form id="expertise-form" style="display: none;" method="POST" action="{% url 'fams:add_expertise' %}">
                {% csrf_token %}
                <div class="form-group">
                    <label for="expertise">* Expertise</label>
                    <select id="expertise" name="expertise">
                        <option value="">Select Sub Expertise</option>
                        <option value="Aerospace Engineering">Aerospace Engineering</option>
                        <option value="Architecture">Architecture</option>
                        <option value="Automation and Control Systems">Automation and Control Systems</option>
                        <option value="Biomedical Engineering">Biomedical Engineering</option>
                        <option value="Chemical Engineering">Chemical Engineering</option>
                        <option value="Civil Engineering">Civil Engineering</option>
                        <option value="Computer Science Artificial Intelligence">Computer Science Artificial
                            Intelligence</option>
                        <option value="Computer Science Cybernetics">Computer Science Cybernetics</option>
                        <option value="Computer Science Hardware and Architecture">Computer Science Hardware and
                            Architecture</option>
                        <option value="Computer Science Information Systems">Computer Science Information Systems
                        </option>
                        <option value="Computer Science Interdisciplinary SCI">Computer Science Interdisciplinary SCI
                        </option>
                        <option value="Computer Science Software Engineering">Computer Science Software Engineering
                        </option>
                        <option value="Computer Science Theory and Methods">Computer Science Theory and Methods</option>
                        <option value="Construction and Building Technology">Construction and Building Technology
                        </option>
                        <option value="Electrical and Electronic Engineering">Electrical and Electronic Engineering
                        </option>
                        <option value="Energy and Fuels">Energy and Fuels</option>
                        <option value="Environmental Engineering">Environmental Engineering</option>
                        <option value="Ergonomics">Ergonomics</option>
                        <option value="Geological Engineering">Geological Engineering</option>
                        <!-- Add more options as needed -->
                    </select>
                </div>
               
                <button type="submit">Save</button>
                <button type="button" onclick="toggleExpertise()">Cancel</button>
            </form>
        
        </div>
        {% endif %}


        {% if faculty.user.email %}
        <!-- Email Information -->
        <div class="section">
            <div class="section-head">
                <span class="section-name">Email Information</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="toggleEmail()"><i class="fa-solid fa-pen-to-square"></i></button>
                {% endif %}
            </div>

            <div id="email-section-body" class="section-body">
                <p> {{ faculty.user.email }} </p>
            </div>

            <form id="email-section-form" style="display: none;" method="POST" action="{% url 'fams:add_email' %}" >
                {% csrf_token %}
                <div>
                
                <label for="email-input">Email : </label>
                <input id="email-input" type="email" name="email" placeholder="Add your Email" value="{{faculty.user.email}}">

                </div>
                <button type="submit">Save</button>
                <button type="button" onclick="toggleEmail()">Cancel</button>
            </form>
        </div>
        {% endif %}




        <!-- Personal Information -->
        <div class="section">
            <div class="section-head">
                <span class="section-name">Personal Information</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="togglePersonalInfo()"><i class="fa-solid fa-pen-to-square"></i></button>
                {% endif %}
            </div>

            <div id="personal-info-section-body" class="section-body">
                <p class="personal-info-name"> {{ faculty.user.first_name }} {{ faculty.user.last_name }} </p>
                <div class="personal-info-dob-gender">
                    <span>{{faculty.dob | date:'Y-m-d'}}</span>
                    <span>{{faculty.gender}} </span>
                </div>
            </div>

            <form id="personal-info-section-form" style="display: none;" method="POST" action="{% url 'fams:add_personal_info' %}">
                {% csrf_token %}

                <div>
                    <label for="dob">DOB: </label>
                    <input type="date" id='dob' name="dob" value="{{faculty.dob | date:'Y-m-d'}}">

                    <label for="gender">Gender: </label>
                    <select id="gender" name="gender">
                        <option value="">Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Others">Others</option>
                    </select>

                </div>
                <button type="submit">Save</button>
                <button type="button" onclick="togglePersonalInfo()">Cancel</button>
            </form>
        </div>


        {% if faculty.address or  faculty.contact_number %}
        <!-- Contact Information -->
        <div class="section">
            <div class="section-head">
                <span class="section-name">Contact Information</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="toggleContactInfo()"><i class="fa-solid fa-pen-to-square"></i></button>
                {% endif %}
            </div>

            <div id="contact-info-section-body" class="section-body">
                <div>
                    {{ faculty.address }}
                </div>
                <div>
                   {{ faculty.contact_number }}
                </div>
            </div>

            <form id="contact-info-section-form" style="display: none;" method="POST" action="{% url 'fams:add_contact_info' %}">
                {% csrf_token %}
                <div>
                    <label for="address">Address</label>
                    <input id="address" type="text" name="address" value="{{faculty.address}}">
                </div>
                <div>
                    <label for="contact">Mobile Number</label>
                    <input id="contact" type="number" name="contact" value="{{faculty.contact_number}}">
                </div>


                <button type="submit">Save</button>
                <button type="button" onclick="toggleContactInfo()">Cancel</button>
            </form>
        </div>
        {% endif %}

        {% if experiences %}
        <!--  Experience -->
        <div class="section">
            <div class="section-head">
                <span class="section-name">Experience</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="toggleExperience()"><i class="fa-solid fa-plus"></i></button>
                {% endif %}
            </div>
        
            <div id="experience-section-body" class="section-body">
                <div class="timeline">
                    {% for exp in experiences %}
                    <div class="event">
                        {% if is_own_profile %}
                        <div class="update-delete-button-container">
                            <button class="update-button" data-modal-target="experience-modal-{{exp.id}}" data-modal-toggle="experience-modal-{{exp.id}}" type="button"><i class="fa-solid fa-pen"></i></button>
                            <button class="delete-button" data-modal-target="del-exp-modal-{{exp.id}}" data-modal-toggle="del-exp-modal-{{exp.id}}" type="button"><i class="fa-solid fa-trash"></i></button>
                        </div>
                        {% endif %}
                        <div class="dates">
                            <div class="start-date">{{ exp.start_date |date:"M, Y" }}</div>
                            <div class="end-date">{{ exp.end_date_display }}</div>
                        </div>
                        <p style="font-size: 14px;"><strong style="font-size: 16px;">{{ exp.title }}</strong>{{ exp.employment_type }}<br>{{ exp.company_name }}</p>
                    </div>
        
                    <!-- Edit Experience Modal -->
                    <div id="experience-modal-{{exp.id}}" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-3xl max-h-full">
                            <div class="relative bg-white rounded-lg shadow">
                                <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                                    <h3 class="text-lg font-semibold text-black">Edit Experience</h3>
                                    <button type="button" class="bg-black" data-modal-toggle="experience-modal-{{exp.id}}">
                                        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                        </svg>
                                        <span class="sr-only">Close modal</span>
                                    </button>
                                </div>
                                <form  method="POST"   action="{% url 'fams:edit_experience' exp.id %}">
                                    {% csrf_token %}

                                    <label for="institute">* Institute</label>
                                    <input type="text" id="institute" name="institute" placeholder="Select Organisation" value="{{exp.company_name}}">
                                    <br><br>
                    
                                    <label for="department">Department</label>
                                    <input type="text" id="department" name="department" placeholder="Select Department" value="{{exp.department}}">
                                    <br><br>
                    
                                    <label for="organisationType">* Organisation Type</label>
                                    <select id="organisationType" name="organisation" value="">
                                        <option value="research-and-development" selected>Research and Development</option>
                                        <option value="institute-of-national-importance">Institute of National Importance</option>
                                        <option value="central-university">Central University</option>
                                        <option value="research-and-development">Research and Development</option>
                                        <option value="deemed-university">Deemed University</option>
                                        <option value="deemed-university-government">Deemed University-Government</option>
                                        <option value="state-university">State University</option>
                                        <option value="private-university">Private University</option>
                                        <option value="institute-under-state-legislature-act">Institute Under State Legislature Act</option>
                                        <option value="technical-institute">Technical Institute</option>
                                        <option value="college">College</option>
                                        <option value="other-institute">Other Institute</option>
                                        <option value="iucs-of-ugc">IUCs of UGC</option>
                                        <option value="private-ltd">Private Ltd.</option>
                                    </select>
                                    <br><br>
                    
                                
                    
                                    <label for="district">* Location</label>
                                    <input type="text" id="district" placeholder="Enter District" name="location" value="{{exp.location}}">
                                    <br><br>
                    
                                    
                    
                                    <label for="designation">* Designation</label>
                                    <input type="text" id="designation" name="designation" placeholder="Select Designation" value="{{exp.title}}">
                                    <span>[Select the Designation name from the auto suggestion.]</span>
                                    <br><br>
                    
                                    <label for="startDate">* Start Date</label>&nbsp;&nbsp;&nbsp;&nbsp;
                                    <input type="date" name="startdate" id="startdate" value="{{exp.start_date | date:'Y-m-d'}}">
                                    <br><br>
                    
                                    <label for="endDate">* End Date</label>&nbsp;&nbsp;&nbsp;&nbsp;
                                    <input type="date" name="enddate" id="enddate" value="{{exp.end_date | date:'Y-m-d'}}">
                                    
                                    
                                    <input type="checkbox" id="currentlyWorkHere"> currently work here
                                    <br><br>
                    
                                    <label for="description"> Description</label>
                                    <textarea id="description" name="description" rows="4" placeholder="Enter Description" value={{exp.description}}></textarea>
                    
                    
                                    <div>
                    
                    
                                        <button type="submit">Save</button>
                                        <button type="button" onclick="toggleExperience()">Cancel</button>
                                    </div>
                    
                                </form>
                            </div>
                        </div>
                    </div>
        
                    <!-- Delete Experience Modal -->
                    <div id="del-exp-modal-{{exp.id}}" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-md max-h-full">
                            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                                <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="del-exp-modal-{{exp.id}}">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                                <div class="p-4 md:p-5 text-center">
                                    <form action="{% url 'fams:delete_experience' exp.id %}" method="POST">
                                        {% csrf_token %}
                                        <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                        </svg>
                                        <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Are you sure you want to delete this product?</h3>
                                        <button data-modal-hide="del-exp-modal-{{exp.id}}" type="submit" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">Yes, I'm sure</button>
                                        <button data-modal-hide="del-exp-modal-{{exp.id}}" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">No, cancel</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        
            <form method="POST" id="experience-section-form" style="display: none;" action="{% url 'fams:add_experience' %}">
                {% csrf_token %}


                <label for="institute">* Institute</label>
                <input type="text" id="institute" name="institute" placeholder="Select Organisation">
                <br><br>

                <label for="department">Department</label>
                <input type="text" id="department" name="department" placeholder="Select Department">
                <br><br>

                <label for="organisationType">* Organisation Type</label>
                <select id="organisationType" name="organisation">
                    <option value="research-and-development" selected>Research and Development</option>
                    <option value="institute-of-national-importance">Institute of National Importance</option>
                    <option value="central-university">Central University</option>
                    <option value="research-and-development">Research and Development</option>
                    <option value="deemed-university">Deemed University</option>
                    <option value="deemed-university-government">Deemed University-Government</option>
                    <option value="state-university">State University</option>
                    <option value="private-university">Private University</option>
                    <option value="institute-under-state-legislature-act">Institute Under State Legislature Act</option>
                    <option value="technical-institute">Technical Institute</option>
                    <option value="college">College</option>
                    <option value="other-institute">Other Institute</option>
                    <option value="iucs-of-ugc">IUCs of UGC</option>
                    <option value="private-ltd">Private Ltd.</option>
                </select>
                <br><br>

            

                <label for="district">* Location</label>
                <input type="text" id="district" placeholder="Enter District" name="location">
                <br><br>

                

                <label for="designation">* Designation</label>
                <input type="text" id="designation" name="designation" placeholder="Select Designation">
                <span>[Select the Designation name from the auto suggestion.]</span>
                <br><br>

                <label for="startDate">* Start Date</label>&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="date" name="startdate" id="startdate">
                <br><br>

                <label for="endDate">* End Date</label>&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="date" name="enddate" id="enddate">
                
                <input type="checkbox" id="currentlyWorkHere"> currently work here
                <br><br>

                <label for="description"> Description</label>
                <textarea id="description" name="description" rows="4" placeholder="Enter Description"></textarea>


                <div>


                    <button type="submit">Save</button>
                    <button type="button" onclick="toggleExperience()">Cancel</button>
                </div>
            </form>
        </div>
        {% endif %}
        



        {% if educations %}
        <!--  Education Qualification -->
        <div class="section">
            <div class="section-head">
                <span class="section-name">Education Qualification</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="toggleEducationQualification()"><i class="fa-solid fa-plus"></i></button>
                {% endif %}
            </div>
        
            <div id="education-qualification-section-body" class="section-body">
                <div class="timeline">
                    {% for edu in educations %}
                    <div class="event">
                        {% if is_own_profile %}
                        <div class="update-delete-button-container">
                            <button class="update-button" data-modal-target="education-modal-{{edu.id}}" data-modal-toggle="education-modal-{{edu.id}}" type="button"><i class="fa-solid fa-pen"></i></button>
                            <button class="delete-button" data-modal-target="del-edu-modal-{{edu.id}}" data-modal-toggle="del-edu-modal-{{edu.id}}" type="button"><i class="fa-solid fa-trash"></i></button>
                        </div>
                        {% endif %}
                        <div class="dates">
                            <div>{{ edu.start_date|date:"Y" }}</div>
                            <div class="end-date">{{ edu.end_date|date:"Y" }}</div>
                        </div>
                        <p style="font-size: 14px;"><strong style="font-size: 16px;">{{ edu.degree }}</strong>{{ edu.school }}</p>
                    </div>
        
                    <!-- Edit Education Modal -->
                    <div id="education-modal-{{edu.id}}" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-3xl max-h-full">
                            <!-- Modal content -->
                            <div class="relative bg-white rounded-lg shadow">
                                <!-- Modal header -->
                                <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                                    <h3 class="text-lg font-semibold text-black">Edit Education</h3>
                                    <button type="button" class="bg-black" data-modal-toggle="education-modal-{{edu.id}}">
                                        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                        </svg>
                                        <span class="sr-only">Close modal</span>
                                    </button>
                                </div>
                                <!-- Modal body --> 
                                <form method="POST" action={% url 'fams:edit_education' edu.id %}>
                                    {% csrf_token %}
                                    <div class="form-group">
                                        <label for="qualification"> Qualification *</label>
                                        <input name="qualification" type="text" id="qualification" placeholder="Ex:Ph.D" value="{{edu.degree}}" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="field-of-study"> Field of Study * </label>
                                        <input name="field_of_study" type="text" id="field-of-study" placeholder="Ex: Computer Science" value="{{edu.field_of_study}}" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="institute"> Institute *</label>
                                        <input name="institute" type="text" id="institute" placeholder="Enter institute" value="{{edu.school}}" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="start-date"> Start Date *</label>
                                        <input name="start_date" type="date" id="start-date" value="{{edu.start_date | date:'Y-m-d'}}" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="end-date"> End Date *</label>
                                        <input name="end_date" type="date" id="end-date" value="{{edu.end_date | date:'Y-m-d'}}" required>
                                    </div>
                                    <div class="form-group">
                                        <div class="form-group">
                                            <label for="grade"> Grade *</label>
                                            <input name="grade" type="text" id="grade" placeholder="Ex: A+" value="{{edu.grade}}" required>
                                        </div>
                                    </div>
                                    <input type="submit" value="Submit">
                                </form>
                            </div>
                        </div>
                    </div>
        
                    <!-- Delete Education Modal -->
                    <div id="del-edu-modal-{{edu.id}}" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-md max-h-full">
                            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                                <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="del-edu-modal-{{edu.id}}">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                                <div class="p-4 md:p-5 text-center">
                                    <form action="{% url 'fams:delete_education' edu.id %}" method="POST">
                                        {% csrf_token %}
                                        <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                        </svg>
                                        <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Are you sure you want to delete this Education?</h3>
                                        <button data-modal-hide="del-edu-modal-{{edu.id}}" type="submit" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">Yes, I'm sure</button>
                                        <button data-modal-hide="del-edu-modal-{{edu.id}}" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">No, cancel</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
        
                    {% endfor %}
                </div>
            </div>
        
            <form method="post" action={% url 'fams:add_education'%} id="education-qualification-section-form" style="display: none;">
                {% csrf_token %}
                <div class="form-group">
                    <label for="qualification"> Qualification *</label>
                    <input name="qualification" type="text" id="qualification" placeholder="Ex:Ph.D" required>
                </div>
                <div class="form-group">
                    <label for="field-of-study"> Field of Study * </label>
                    <input name="field_of_study" type="text" id="field-of-study" placeholder="Ex: Computer Science" required>
                </div>
                <div class="form-group">
                    <label for="institute"> Institute *</label>
                    <input name="institute" type="text" id="institute" placeholder="Enter institute" required>
                </div>
                <div class="form-group">
                    <label for="start-date"> Start Date *</label>
                    <input name="start_date" type="date" id="start-date" required>
                </div>
                <div class="form-group">
                    <label for="end-date"> End Date *</label>
                    <input name="end_date" type="date" id="end-date" required>
                </div>
                <div class="form-group">
                    <div class="form-group">
                        <label for="grade"> Grade *</label>
                        <input name="grade" type="text" id="grade" placeholder="Ex: A+" required>
                    </div>
                </div>
                <input type="submit" value="Submit">
                <button type="button" onclick="toggleEducationQualification()">Cancel</button>
            </form>
        </div>
        {% endif %}


        <!-- Membership in Committees   -->
        {% if committee_memberships %}
        <div class="section">
            <div class="section-head">
                <span class="section-name">Membership in Committees</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="toggleMembershipInCommittees()"><i class="fa-solid fa-plus"></i></button>
                {% endif %}
            </div>
            <div id="membership-in-committees-section-body" class="section-body">
                <div class="timeline">
                    {% for item in committee_memberships %}
                    <div class="event">
                        <div class="dates">
                            <div>{{ item.start_date|date:"Y" }}</div>
                            <div class="end-date">{{ item.end_date|date:"Y" }}</div>
                        </div>
                        <p style="font-size: 14px;">
                            <strong style="font-size: 16px;">{{ item.organization }}</strong>{{ item.name }}
                        </p>
                        {% if is_own_profile %}
                        <div class="update-delete-button-container">
                            <button class="update-button" data-modal-target="committee-modal-{{item.id}}" data-modal-toggle="committee-modal-{{item.id}}" type="button"><i class="fa-solid fa-pen"></i></button>
                            <button class="delete-button" data-modal-target="del-cm-modal-{{item.id}}" data-modal-toggle="del-cm-modal-{{item.id}}" type="button"><i class="fa-solid fa-trash"></i></button>
                        </div>
                        {% endif %}
                    </div>
        
                    <!-- Edit Committee Membership Modal -->
                    <div id="committee-modal-{{item.id}}" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-3xl max-h-full">
                            <div class="relative bg-white rounded-lg shadow">
                                <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                                    <h3 class="text-lg font-semibold text-black">Edit Committee Membership</h3>
                                    <button type="button" class="bg-black" data-modal-toggle="committee-modal-{{item.id}}">
                                        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                        </svg>
                                        <span class="sr-only">Close modal</span>
                                    </button>
                                </div>
                                <form method="POST" action="{% url 'fams:edit_committee_membership' item.id %}">
                                    {% csrf_token %}
                                    <div>
                                        <div>
                                            <label for="organisation-{{item.id}}">* Organisation</label>
                                            <input id="organisation-{{item.id}}" type="text" name="organisation" value="{{item.organization}}">
                                        </div>
                                        <div>
                                            <label for="designation-{{item.id}}">* Designation</label>
                                            <input id="designation-{{item.id}}" type="text" name="designation" value="{{item.designation}}">
                                        </div>
                                        <div>
                                            <label for="startdate-{{item.id}}">* Start Date</label>
                                            <input id="startdate-{{item.id}}" type="date" name="startdate" value="{{item.start_date|date:'Y-m-d'}}">
                                        </div>
                                        <div>
                                            <label for="enddate-{{item.id}}">* End Date</label>
                                            <input id="enddate-{{item.id}}" type="date" name="enddate" value="{{item.end_date|date:'Y-m-d'}}">
                                        </div>
                                    </div>
                                    <button type="submit">Save</button>
                                </form>
                            </div>
                        </div>
                    </div>
        
                    <!-- Delete Committee Membership Modal -->
                    <div id="del-cm-modal-{{item.id}}" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-md max-h-full">
                            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                                <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="del-cm-modal-{{item.id}}">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                                <div class="p-4 md:p-5 text-center">
                                    <form action="{% url 'fams:delete_committee_membership' item.id %}" method="POST">
                                        {% csrf_token %}
                                        <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                        </svg>
                                        <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Are you sure you want to delete this membership?</h3>
                                        <button data-modal-hide="del-cm-modal-{{item.id}}" type="submit" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">Yes, I'm sure</button>
                                        <button data-modal-hide="del-cm-modal-{{item.id}}" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">No, cancel</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        
            <form method="POST" id="membership-in-committees-section-form" style="display: none;" action="{% url 'fams:add_committee_membership' %}">
                {% csrf_token %}
                <div>
                    <div>
                        <label for="new-organisation">* Organisation</label>
                        <input id="new-organisation" type="text" name="organisation">
                    </div>
                    <div>
                        <label for="new-designation">* Designation</label>
                        <input id="new-designation" type="text" name="designation">
                    </div>
                    <div>
                        <label for="new-startdate">* Start Date</label>
                        <input id="new-startdate" type="date" name="startdate">
                    </div>
                    <div>
                        <label for="new-enddate">* End Date</label>
                        <input id="new-enddate" type="date" name="enddate">
                    </div>
                </div>
                <button type="submit">Save</button>
                <button type="button" onclick="toggleMembershipInCommittees()">Cancel</button>
            </form>
        </div>
        {% endif %}


        <!-- Honours and Awards  -->
        {% if honors %}
        <div class="section">
            <div class="section-head">
                <span class="section-name">Honours and Awards</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="toggleHonoursAndAwarda()"><i class="fa-solid fa-plus"></i></button>
                {% endif %}
            </div>
            <div id="honours-and-awards-section-body" class="section-body">
                {% for hons in honors %}
                <div class="award-item">
                    {% if is_own_profile %}
                    <div class="update-delete-button-container">
                        <button class="update-button" data-modal-target="honor-modal-{{hons.id}}" data-modal-toggle="honor-modal-{{hons.id}}" type="button"><i class="fa-solid fa-pen"></i></button>
                        <button class="delete-button" data-modal-target="del-hons-modal-{{hons.id}}" data-modal-toggle="del-hons-modal-{{hons.id}}" type="button"><i class="fa-solid fa-trash"></i></button>
                    </div>
                    {% endif %}
                    <div class="year-box">{{ hons.issue_year }}</div>
                    <div class="honours-and-awards-details">
                        <span class="award-title">{{ hons.title }}</span>
                        <span class="award-institution">{{ hons.issuing_organization }}</span>
                    </div>
                </div>
        
                <!-- Edit Honor Modal -->
                <div id="honor-modal-{{hons.id}}" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                    <div class="relative p-4 w-full max-w-3xl max-h-full">
                        <!-- Modal content -->
                        <div class="relative bg-white rounded-lg shadow">
                            <!-- Modal header -->
                            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                                <h3 class="text-lg font-semibold text-black">Edit Honors</h3>
                                <button type="button" class="bg-black" data-modal-toggle="honor-modal-{{hons.id}}">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                            </div>
                            <!-- Modal body -->
                            <form method="POST" action={% url "fams:edit_honor" hons.id %}>
                                {% csrf_token %}
                                <div>
                                    <div>
                                        <label for="title-input"> Title * </label>
                                        <input name="title" id="title-input" type="text" value="{{hons.title}}" required>
                                    </div>
                                    <div>
                                        <label for="issuing-organization">Issuing Organization * </label>
                                        <input name="issuing_organization" id="issuing-organization" type="text" value="{{hons.issuing_organization}}" required>
                                    </div>
                                    <div>
                                        <label for="year">Year *</label>
                                        <input name="year" id="year" type="number" min="1910" max="2099" step="1" value="{{hons.issue_year}}" required/>
                                    </div>
                                    <div>
                                        <label for="description">Description * </label>
                                        <textarea name="description" id="description" required>{{hons.description}}</textarea>
                                    </div>
                                </div>
                                <input type="submit" value="Save"/>
                            </form>
                        </div>
                    </div>
                </div>
        
                <!-- Delete Honor Modal -->
                <div id="del-hons-modal-{{hons.id}}" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                    <div class="relative p-4 w-full max-w-md max-h-full">
                        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                            <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="del-hons-modal-{{hons.id}}">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                </svg>
                                <span class="sr-only">Close modal</span>
                            </button>
                            <div class="p-4 md:p-5 text-center">
                                <form action="{% url 'fams:delete_honors' hons.id %}" method="POST">
                                    {% csrf_token %}
                                    <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                    </svg>
                                    <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Are you sure you want to delete this Honor/Award?</h3>
                                    <button data-modal-hide="del-hons-modal-{{hons.id}}" type="submit" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">Yes, I'm sure</button>
                                    <button data-modal-hide="del-hons-modal-{{hons.id}}" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">No, cancel</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        
            <form method="post" action={% url "fams:add_honor" %} id="honours-and-awards-section-form" style="display: none;">
                {% csrf_token %}
                <div>
                    <div>
                        <label for="title-input"> Title * </label>
                        <input name="title" id="title-input" type="text" required>
                    </div>
                    <div>
                        <label for="issuing-organization">Issuing Organization * </label>
                        <input name="issuing_organization" id="issuing-organization" type="text" required>
                    </div>
                    <div>
                        <label for="year">Year *</label>
                        <input name="year" id="year" type="number" min="1910" max="2099" step="1" value="2024" required/>
                    </div>
                    <div>
                        <label for="description">Description * </label>
                        <textarea name="description" id="description" required></textarea>
                    </div>
                </div>
                <input type="submit" value="Save"/>
                <button type="button" onclick="toggleHonoursAndAwarda()">Cancel</button>
            </form>
        </div>
        {% endif %}


        <!-- Doctoral Theses Guided      -->
        {% if doctoral_theses %}
        <div class="section">
            <div class="section-head">
                <span class="section-name">Doctoral Theses Guided</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="toggleDoctoralThesesGuided()"><i class="fa-solid fa-plus"></i></button>
                {% endif %}
            </div>
            <div id="doctoral-theses-guided-section-body" class="section-body">
                {% for thesis in doctoral_theses %}
                <div class="doctoral-theses-guided-item">
                    {% if is_own_profile %}
                    <div class="update-delete-button-container">
                        <button class="update-button" data-modal-target="thesis-modal-{{thesis.id}}" data-modal-toggle="thesis-modal-{{thesis.id}}" type="button"><i class="fa-solid fa-pen"></i></button>
                        <button class="delete-button" data-modal-target="del-thesis-modal-{{thesis.id}}" data-modal-toggle="del-thesis-modal-{{thesis.id}}" type="button"><i class="fa-solid fa-trash"></i></button>
                    </div>
                    {% endif %}
                    <div class="year-box">{{ thesis.awarded_year }}</div>
                    <div class="doctoral-theses-guided-details">
                        <span class="doctoral-theses-guided-title">{{ thesis.title }}</span>
                        <div class="doctoral-theses-guided-institute-and-researcher">
                            <span>{{ thesis.institute }}, </span><span>{{ thesis.researchers_name }}</span>
                        </div>
                    </div>
                </div>
        
                <!-- Edit Thesis Modal -->
                <div id="thesis-modal-{{thesis.id}}" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                    <div class="relative p-4 w-full max-w-3xl max-h-full">
                        <!-- Modal content -->
                        <div class="relative bg-white rounded-lg shadow">
                            <!-- Modal header -->
                            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                                <h3 class="text-lg font-semibold text-black">Edit Doctoral Thesis</h3>
                                <button type="button" class="bg-black" data-modal-toggle="thesis-modal-{{thesis.id}}">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                            </div>
                            <!-- Modal body -->
                            <form method="POST" action={% url 'fams:edit_doctoral_thesis' thesis.id %}>
                                {% csrf_token %}
                                <div>
                                    <div>
                                        <label for="researcher-names">Names of Researchers Involved * </label>
                                        <input name="researcher_names" id="researcher-names" type="text" value="{{thesis.researchers_name }}" required>
                                    </div>
                                    <div>
                                        <label for="title">Title *</label>
                                        <input name="title" id="title" type="text" value="{{thesis.title}}" required>
                                    </div>
                                    <div>
                                        <label for="institute">Institute * </label>
                                        <input name="institute" id="institute" type="text" value="{{thesis.institute}}" required>
                                    </div>
                                    <div>
                                        <label for="awarded-year">Awarded year * </label>
                                        <input name="awarded_year" id="awarded-year" type="number" min="1910" max="2099" step="1" value="{{thesis.awarded_year}}" required>
                                    </div>
                                    <div>
                                        <label for="description">Description * </label>
                                        <textarea name="description" id="description" required>{{thesis.description}}</textarea>
                                    </div>
                                </div>
                                <input type="submit" value="Save"/>
                            </form>
                        </div>
                    </div>
                </div>
        
                <!-- Delete Thesis Modal -->
                <div id="del-thesis-modal-{{thesis.id}}" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                    <div class="relative p-4 w-full max-w-md max-h-full">
                        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                            <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="del-thesis-modal-{{thesis.id}}">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                </svg>
                                <span class="sr-only">Close modal</span>
                            </button>
                            <div class="p-4 md:p-5 text-center">
                                <form action="{% url 'fams:delete_doctoral_thesis' thesis.id %}" method="POST">
                                    {% csrf_token %}
                                    <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                    </svg>
                                    <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Are you sure you want to delete this thesis?</h3>
                                    <button data-modal-hide="del-thesis-modal-{{thesis.id}}" type="submit" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">Yes, I'm sure</button>
                                    <button data-modal-hide="del-thesis-modal-{{thesis.id}}" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">No, cancel</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        
            <form method="post" action={% url 'fams:add_doctoral_thesis' %} id="doctoral-theses-guided-section-form" style="display: none;">
                {% csrf_token %}
                <div>
                    <div>
                        <label for="researcher-names">Names of Researchers Involved * </label>
                        <input name="researcher_names" id="researcher-names" type="text" required>
                    </div>
                    <div>
                        <label for="title">Title *</label>
                        <input name="title" id="title" type="text" required>
                    </div>
                    <div>
                        <label for="institute">Institute * </label>
                        <input name="institute" id="institute" type="text" required>
                    </div>
                    <div>
                        <label for="awarded-year">Awarded year * </label>
                        <input name="awarded_year" id="awarded-year" type="number" min="1910" max="2099" step="1" value="2024" required>
                    </div>
                    <div>
                        <label for="description">Description * </label>
                        <textarea name="description" id="description" required></textarea>
                    </div>
                </div>
                <input type="submit" value="Save"/>
                <button type="button" onclick="toggleDoctoralThesesGuided()">Cancel</button>
            </form>
        </div>
        {% endif %}

        <!-- Research Projects       -->
        {% if research_projects %}
        <div class="section">
            <div class="section-head">
                <span class="section-name">Research Projects</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="toggleResearchProjects()"><i class="fa-solid fa-plus"></i></button>
                {% endif %}
            </div>
        
            <div id="research-projects-section-body" class="section-body">
                {% for item in research_projects %}
                <div class="each-research-project">
                    <div class="project-title">{{ item.title }}</div>
                    <div class="funding-agency">
                        <i class="fas fa-briefcase"></i> Funding Agency: {{ item.funding_agency }}
                    </div>
                    <div class="research-projects-details">
                        <div class="research-projects-detail-item">
                            <i class="fas fa-thumbs-up"></i> {{ item.status|capfirst }}
                        </div>
                        <div class="research-projects-detail-item">
                            <i class="fas fa-user"></i> {{ item.role }}
                        </div>
                        <div class="research-projects-detail-item">
                            <i class="fas fa-rupee-sign"></i>  {{ item.amount }}
                        </div>
                        <div class="research-projects-detail-item">
                            <i class="fas fa-calendar-alt"></i> {{ item.start_date|date:"Y" }} - {{ item.end_date|date:"Y" }}
                        </div>
                    </div>
                
                    {% if is_own_profile %}
                    <div class="update-delete-button-container">
                        <button class="update-button" data-modal-target="rp-modal-{{item.id}}" data-modal-toggle="rp-modal-{{item.id}}" class="update-button" type="button"><i class="fa-solid fa-pen"></i></button>
                        <button class="delete-button" data-modal-target="del-rp-modal-{{item.id}}" data-modal-toggle="del-rp-modal-{{item.id}}" type="button"><i class="fa-solid fa-trash"></i></button>
                    </div>
                    {% endif %}
        
                    <!-- Update Modal -->
                    <div id="rp-modal-{{item.id}}" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-3xl max-h-full">
                            <div class="relative bg-white rounded-lg shadow">
                                <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                                    <h3 class="text-lg font-semibold text-black">Edit Research Project</h3>
                                    <button type="button" class="bg-black" data-modal-toggle="rp-modal-{{item.id}}">
                                        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                        </svg>
                                        <span class="sr-only">Close modal</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <form method="POST" action="{% url 'fams:edit_research_projects' item.id %}">
                                        {% csrf_token %}
                                        <div>
                                            <label for="project-title">Title of the project *</label>
                                            <input type="text" id="project-title" name="project-title" placeholder="Title of the Project" value="{{item.title}}" required>
                                        </div>
                                        <div>
                                            <label for="description">Description of the project *</label>
                                            <textarea id="description" name="description" placeholder="Description of the Project" required>{{item.description}}</textarea>
                                        </div>
                                        <div>
                                            <label for="start-date">Start date *</label>
                                            <input name="start_date" id="start-date" type="date" value="{{item.start_date | date:'Y-m-d'}}" required/>
                                        </div>
                                        <div>
                                            <label for="end-date">End date</label>
                                            <input name="end_date" id="end-date" type="date" value="{{item.end_date | date:'Y-m-d'}}">
                                            <label for="ongoing">Ongoing</label>
                                            <input type="checkbox" id="ongoing" name="ongoing" {% if item.ongoing %} checked {% endif %}>
                                        </div>
                                        <div>
                                            <label for="role">Role *</label>
                                            <input type="text" id="role" name="role" placeholder="Enter Role" value="{{item.role}}" required>
                                        </div>
                                        <div>
                                            <label for="funding-agency">Funding agency *</label>
                                            <input type="text" id="funding-agency" name="funding-agency" placeholder="Enter Funding Agency" value="{{item.funding_agency}}" required>
                                        </div>
                                        <div>
                                            <label for="grant-no">Grant No.</label>
                                            <input type="text" id="grant-no" name="grant-no" placeholder="Enter Grant No." value="{{item.grant_number}}">
                                        </div>
                                        <div>
                                            <label for="status">Status</label>
                                            <select id="status" name="status">
                                                <option value="ongoing" {% if item.status == "ongoing" %} selected {% endif %}>Ongoing</option>
                                                <option value="completed" {% if item.status == "completed" %} selected {% endif %}>Completed</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label for="amount">Amount *</label>
                                            <input type="text" id="amount" name="amount" placeholder="Enter Amount" required value="{{item.amount}}">
                                        </div>
                                        <input type="submit" value="Save"/>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
        
                    <!-- Delete Modal -->
                    <div id="del-rp-modal-{{item.id}}" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-md max-h-full">
                            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                                <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="del-rp-modal-{{item.id}}">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                                <div class="p-4 md:p-5 text-center">
                                    <form action="{% url 'fams:delete_research_project' item.id %}" method="POST">
                                        {% csrf_token %}
                                        <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                        </svg>
                                        <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Are you sure you want to delete this research project?</h3>
                                        <button data-modal-hide="del-rp-modal-{{item.id}}" type="submit" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">Yes, I'm sure</button>
                                        <button data-modal-hide="del-rp-modal-{{item.id}}" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">No, cancel</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        
            <!-- Add New Research Project Form -->
            <form method="post" action="{% url 'fams:add_research_project' %}" id="research-projects-section-form" class="hidden">
                {% csrf_token %}
                <div>
                    <label for="project-title">Title of the project *</label>
                    <input type="text" id="project-title" name="project-title" placeholder="Title of the Project" required>
                </div>
                <div>
                    <label for="description">Description of the project *</label>
                    <textarea id="description" name="description" placeholder="Description of the Project" required></textarea>
                </div>
                <div>
                    <label for="start-date">Start date *</label>
                    <input name="start_date" id="start-date" type="date" required/>
                </div>
                <div>
                    <label for="end-date">End date</label>
                    <input name="end_date" id="end-date" type="date">
                    <label for="ongoing">Ongoing</label>
                    <input type="checkbox" id="ongoing" name="ongoing">
                </div>
                <div>
                    <label for="role">Role *</label>
                    <input type="text" id="role" name="role" placeholder="Enter Role" required>
                </div>
                <div>
                    <label for="funding-agency">Funding agency *</label>
                    <input type="text" id="funding-agency" name="funding-agency" placeholder="Enter Funding Agency" required>
                </div>
                <div>
                    <label for="grant-no">Grant No.</label>
                    <input type="text" id="grant-no" name="grant-no" placeholder="Enter Grant No.">
                </div>
                <div>
                    <label for="status">Status</label>
                    <select id="status" name="status">
                        <option value="ongoing">Ongoing</option>
                        <option value="completed">Completed</option>
                    </select>
                </div>
                <div>
                    <label for="amount">Amount *</label>
                    <input type="text" id="amount" name="amount" placeholder="Enter Amount" required>
                </div>
                <input type="submit" value="Save"/>
                <button type="button" onclick="toggleResearchProjects()">Cancel</button>
            </form>
        </div>
        {% endif %}

        <!-- Patent       -->
        {% if patents %}
        <div class="section">
            <div class="section-head">
                <span class="section-name">Patent</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="togglePatent()"><i class="fa-solid fa-plus"></i></button>
                {% endif %}
            </div>
        
            <div id="patent-section-body" class="section-body">
                {% for item in patents %}
                <div class="each-patent relative">
                    {% if is_own_profile %}
                    <div class="patent-buttons absolute top-0 right-0 space-x-2">
                        <button data-modal-target="patent-modal-{{item.id}}" data-modal-toggle="patent-modal-{{item.id}}" class="btn-update" type="button"><i class="fa-solid fa-pen"></i></button>
                        <button data-modal-target="del-patent-modal-{{item.id}}" data-modal-toggle="del-patent-modal-{{item.id}}" class="btn-delete" type="button"><i class="fa-solid fa-trash"></i></button>
                    </div>
                    {% endif %}
                    <span class="title">{{ item.title }}</span>
                    <span><i class="fas fa-user icon"></i> {{ item.inventors }}</span>
                    <span><i class="fas fa-university icon"></i> MSIT JanakPURI</span>
                    <span><i class="fas fa-file-alt icon"></i> Patent No. {{ item.patent_number }}</span>
                    <span><i class="fas fa-seedling icon"></i> {{ item.subject_category }} <i class="fas fa-check approved icon"></i> {{ item.status|capfirst }}</span>
                    <span><i class="fas fa-calendar-alt icon"></i> Filed {{ item.filing_date }} <i class="fas fa-calendar icon"></i> Published {{ item.publication_date }}</span>
                </div>
        
                <!-- Edit Patent Modal -->
                <div id="patent-modal-{{item.id}}" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                    <div class="relative p-4 w-full max-w-3xl max-h-full">
                        <div class="relative bg-white rounded-lg shadow">
                            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                                <h3 class="text-lg font-semibold text-black">Edit Patent</h3>
                                <button type="button" class="bg-black" data-modal-toggle="patent-modal-{{item.id}}">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                            </div>
                            <form method="POST" action={% url "fams:edit_patent" item.id %}>
                                {% csrf_token %}
                                <div class="form-group">
                                    <label for="title">* Title of the Patent</label>
                                    <input type="text" id="title" name="title" placeholder="Title of the Patent" required value="{{item.title }}">
                                </div>
                                <div class="form-group">
                                    <label for="inventors">* Inventor(s)</label>
                                    <input type="text" id="inventors" name="inventors" placeholder="Patent Creator(s)" value="{{item.inventors}}" required>
                                </div>
                                <div class="form-group">
                                    <label for="app-number">* Application Number</label>
                                    <input type="text" id="app-number" name="app-number" placeholder="Application Number" value="{{item.application_number}}" required>
                                </div>
                                <div class="form-group">
                                    <label for="patent-number">Patent Number</label>
                                    <input type="text" id="patent-number" name="patent-number" placeholder="Patent Number" value="{{item.patent_number}}">
                                </div>
                                <div class="form-group">
                                    <label for="filing-country">* Filing Country</label>
                                    <input type="text" id="filing-country" name="filing-country" required value="{{item.filing_country}}">
                                </div>
                                <div class="form-group">
                                    <label for="subject-category">Subject Category</label>
                                    <select id="subject-category" name="subject-category">
                                        <option value="">Select Category</option>
                                        <option value="agricultural-sciences">Agricultural Sciences</option>
                                        <option value="biological-sciences">Artificial Intelligence</option>
                                        <option value="arts-humanities">Arts and Humanities</option>
                                        <option value="biological-sciences">Biological Sciences</option>
                                        <option value="chemical-sciences">Chemical Sciences</option>
                                        <option value="engineering-technology">Engineering and Technology</option>
                                        <option value="medical-health-sciences">Medical and Health Sciences</option>
                                        <option value="physical-sciences">Physical Sciences</option>
                                        <option value="social-sciences">Social Sciences</option>
                                        <!-- Add more category options here -->
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="filing-date">* Filing Date</label>
                                    <input type="date" id="filing-date" name="filing-date" required value="{{item.filing_date | date:'Y-m-d'}}">
                                </div>
                                <div class="form-group">
                                    <label for="publication-date">Publication Date</label>
                                    <input type="date" id="publication-date" name="publication-date" value="{{item.publication_date | date:'Y-m-d'}}">
                                </div>
                                <div class="form-group">
                                    <label for="status">* Status</label>
                                    <select id="status" name="status" required>
                                        <option value="">Select Status</option>
                                        <option value="pending">Pending</option>
                                        <option value="published">Published</option>
                                        <option value="granted">Granted</option>
                                        <!-- Add more status options here -->
                                    </select>
                                </div>
                                <input type="submit" value="Save"/>
                            </form>
                        </div>
                    </div>
                </div>
        
                <!-- Delete Patent Modal -->
                <div id="del-patent-modal-{{item.id}}" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                    <div class="relative p-4 w-full max-w-md max-h-full">
                        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                            <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="del-patent-modal-{{item.id}}">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                </svg>
                                <span class="sr-only">Close modal</span>
                            </button>
                            <div class="p-4 md:p-5 text-center">
                                <form action="{% url 'fams:delete_patent' item.id %}" method="POST">
                                    {% csrf_token %}
                                    <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                    </svg>
                                    <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Are you sure you want to delete this Patent?</h3>
                                    <button data-modal-hide="del-exp-modal" type="submit" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">
                                        Yes, I'm sure
                                    </button>
                                    <button data-modal-hide="del-patent-modal-{{item.id}}" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">No, cancel</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        
            <form method="post" action={% url "fams:add_patent" %} id="patent-section-form" style="display: none;">
                {% csrf_token %}
                <div class="form-group">
                    <label for="title">* Title of the Patent</label>
                    <input type="text" id="title" name="title" placeholder="Title of the Patent" required>
                </div>
                <div class="form-group">
                    <label for="inventors">* Inventor(s)</label>
                    <input type="text" id="inventors" name="inventors" placeholder="Patent Creator(s)" required>
                </div>
                <div class="form-group">
                    <label for="applicant">Applicant Name</label>
                    <input type="text" id="applicant" name="applicant" placeholder="Person Name / Organisation Name">
                </div>
                <div class="form-group">
                    <label for="app-number">* Application Number</label>
                    <input type="text" id="app-number" name="app-number" placeholder="Application Number" required>
                </div>
                <div class="form-group">
                    <label for="patent-number">Patent Number</label>
                    <input type="text" id="patent-number" name="patent-number" placeholder="Patent Number">
                </div>
                <div class="form-group">
                    <label for="filing-country">* Filing Country</label>
                    <input type="text" id="filing-country" name="filing-country" required>
                </div>
                <div class="form-group">
                    <label for="subject-category">Subject Category</label>
                    <select id="subject-category" name="subject-category">
                        <option value="">Select Category</option>
                        <option value="agricultural-sciences">Agricultural Sciences</option>
                        <option value="biological-sciences">Artificial Intelligence</option>
                        <option value="arts-humanities">Arts and Humanities</option>
                        <option value="biological-sciences">Biological Sciences</option>
                        <option value="chemical-sciences">Chemical Sciences</option>
                        <option value="engineering-technology">Engineering and Technology</option>
                        <option value="medical-health-sciences">Medical and Health Sciences</option>
                        <option value="physical-sciences">Physical Sciences</option>
                        <option value="social-sciences">Social Sciences</option>
                        <!-- Add more category options here -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="filing-date">* Filing Date</label>
                    <input type="date" id="filing-date" name="filing-date" required>
                </div>
                <div class="form-group">
                    <label for="publication-date">Publication Date</label>
                    <input type="date" id="publication-date" name="publication-date">
                </div>
                <div class="form-group">
                    <label for="status">* Status</label>
                    <select id="status" name="status" required>
                        <option value="">Select Status</option>
                        <option value="pending">Pending</option>
                        <option value="published">Published</option>
                        <option value="granted">Granted</option>
                        <!-- Add more status options here -->
                    </select>
                </div>
                <input type="submit" value="Save"/>
                <button type="button" onclick="togglePatent()">Cancel</button>
            </form>
        </div>
        {% endif %}

        <!-- Publications -->
        {% if publications %}
        <div class="section">
            <div class="section-head">
                <span class="section-name">Publications</span>
                {% if is_own_profile %}
                <button class="add-edit-btn" onclick="togglePublications()"><i class="fa-solid fa-plus"></i></button>
                {% endif %}
            </div>
        
            <div id="publications-section-body" class="section-body">
                {% for item in publications %}
                <div class="each-publication">
                    <div class="publications-title">
                        {{ item.title }}
                    </div>
                    <div class="publications-authors">
                        {{ item.authors }}
                    </div>
                    <div class="publications-footer">
                        <span class="publications-tag">Conference Paper</span>
                        <span class="publications-journal-details">{{ item.journal_name }} 
                            <span class="publications-volume">{{ item.volume }}</span>, 
                            <span class="publications-year">Year {{ item.year }}</span>, 
                            <span class="publications-pages">{{ item.page_number }}</span>
                        </span>
                    </div>
        
                    {% if is_own_profile %}
                    <div class="publication-buttons">
                        <button data-modal-target="pub-modal-{{item.id}}" data-modal-toggle="pub-modal-{{item.id}}" class="btn-update"><i class="fa-solid fa-pen"></i></button>
                        <button data-modal-target="del-pub-modal-{{item.id}}" data-modal-toggle="del-pub-modal-{{item.id}}" class="btn-delete"><i class="fa-solid fa-trash"></i></button>
                    </div>
                    {% endif %}
        
                    <!-- Edit Publication Modal -->
                    <div id="pub-modal-{{item.id}}" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-3xl max-h-full">
                            <div class="relative bg-white rounded-lg shadow ">
                                <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                                    <h3 class="text-lg font-semibold text-black">Edit Publication</h3>
                                    <button type="button" class="bg-black" data-modal-toggle="pub-modal-{{item.id}}">
                                        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                        </svg>
                                        <span class="sr-only">Close modal</span>
                                    </button>
                                </div>
                                <form method="POST" action={% url 'fams:edit_publication' item.id %} enctype="multipart/form-data">
                                    {% csrf_token %}
                                    <div>
                                        <label for="work-type">* Work Type</label>
                                        <select id="work-type" name="work-type" required>
                                            <option value="">Type</option>
                                            <option value="article">Article</option>
                                            <option value="article_in_press">Article-in-Press (AIP)</option>
                                            <option value="book">Book</option>
                                            <option value="book_chapter">Book Chapter</option>
                                            <option value="conference_paper">Conference Paper</option>
                                            <option value="conference_proceedings">Conference Proceedings</option>
                                            <option value="editorial">Editorial</option>
                                            <option value="erratum">Erratum</option>
                                            <option value="letter">Letter</option>
                                            <option value="note">Note</option>
                                            <option value="review">Review</option>
                                            <option value="retracted_article">Retracted Article</option>
                                            <option value="short_survey">Short Survey</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="title">* Title/Chapter</label>
                                        <input type="text" id="title" name="title" placeholder="Title of the Publication" value="{{item.title}}" required>
                                    </div>
                                    <div>
                                        <label for="journal-title">* Journal/Book Title</label>
                                        <input type="text" id="journal-title" name="journal-title" placeholder="Enter Journal/Book Title" value="{{item.journal_name}}" required>
                                    </div>
                                    <div>
                                        <label for="year">Year</label>
                                        <input type="number" id="year" name="year" min="1910" max="2099" value="{{item.year}}" placeholder="Year">
                                    </div>
                                    <div>
                                        <label for="author">* Author(s)</label>
                                        <input type="text" id="author" name="author" placeholder="Enter Author" value="{{item.author}}" required>
                                        <p>(Maintain the uniformity in the author name and also separate the author by (,, or , or and) to generate co-author network)</p>
                                    </div>
                                    <div>
                                        <label for="issue_date">* Issuing date</label>
                                        <input type="date" id="issue_date" name="issue_date" value="{{item.issue_date | date:'Y-m-d'}}" required>
                                    </div>
                                    <div>
                                        <label for="issue_org">* Issuing organization</label>
                                        <input type="text" id="issue_org" name="io" value="{{item.issuing_organization}}" required>
                                    </div>
                                    <div>
                                        <label for="url">Url</label>
                                        <input type="url" id="url" name="url" placeholder="Enter Url" value="{{item.url}}">
                                    </div>
                                    <div>
                                        <label for="doi">Doi</label>
                                        <input type="text" id="doi" name="doi" placeholder="Enter Doi" value="{{item.doi}}">
                                    </div>
                                    <div>
                                        <label for="volume">Volume</label>
                                        <input type="text" id="volume" name="volume" placeholder="Enter Volume" value="{{item.volume}}">
                                    </div>
                                    <div>
                                        <label for="page-no">Page No.</label>
                                        <input type="number" id="page-no" name="page-no" placeholder="Enter Page No" value="{{item.page_number}}">
                                    </div>
                                    <div>
                                        <label for="publisher">Publisher</label>
                                        <input type="text" id="publisher" name="publisher" placeholder="Enter Publisher Name" value="{{item.publisher_name}}">
                                    </div>
                                    <div>
                                        <label for="file">File</label>
                                        <input type="file" id="file" name="file" value="{{item.file}}">
                                    </div>
                                    <input type="submit" value="Save"/>
                                </form>
                            </div>
                        </div>
                    </div>
        
                    <!-- Delete Publication Modal -->
                    <div id="del-pub-modal-{{item.id}}" tabindex="-1" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                        <div class="relative p-4 w-full max-w-md max-h-full">
                            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                                <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="del-pub-modal-{{item.id}}">
                                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                    </svg>
                                    <span class="sr-only">Close modal</span>
                                </button>
                                <div class="p-4 md:p-5 text-center">
                                    <form action="{% url 'fams:delete_publication' item.id %}" method="POST">
                                        {% csrf_token %}
                                        <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                        </svg>
                                        <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">Are you sure you want to delete this Publication?</h3>
                                        <button data-modal-hide="del-pub-modal-{{item.id}}" type="submit" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">
                                            Yes, I'm sure
                                        </button>
                                        <button data-modal-hide="del-pub-modal-{{item.id}}" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">No, cancel</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        
            <form method="POST" action={% url "fams:add_publication" %} enctype="multipart/form-data" id="publications-section-form" style="display: none;">
                {% csrf_token %}
                <div>
                    <label for="work-type">* Work Type</label>
                    <select id="work-type" name="work-type" required>
                        <option value="">Type</option>
                        <option value="article">Article</option>
                        <option value="article_in_press">Article-in-Press (AIP)</option>
                        <option value="book">Book</option>
                        <option value="book_chapter">Book Chapter</option>
                        <option value="conference_paper">Conference Paper</option>
                        <option value="conference_proceedings">Conference Proceedings</option>
                        <option value="editorial">Editorial</option>
                        <option value="erratum">Erratum</option>
                        <option value="letter">Letter</option>
                        <option value="note">Note</option>
                        <option value="review">Review</option>
                        <option value="retracted_article">Retracted Article</option>
                        <option value="short_survey">Short Survey</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div>
                    <label for="title">* Title/Chapter</label>
                    <input type="text" id="title" name="title" placeholder="Title of the Publication" required>
                </div>
                <div>
                    <label for="journal-title">* Journal/Book Title</label>
                    <input type="text" id="journal-title" name="journal-title" placeholder="Enter Journal/Book Title" required>
                </div>
                <div>
                    <label for="year">Year</label>
                    <input type="number" id="year" name="year" min="1910" max="2099" value="2024" placeholder="Year">
                </div>
                <div>
                    <label for="author">* Author(s)</label>
                    <input type="text" id="author" name="author" placeholder="Enter Author" required>
                    <p>(Maintain the uniformity in the author name and also separate the author by (,, or , or and) to generate co-author network)</p>
                </div>
                <div>
                    <label for="issue_date">* Issuing date</label>
                    <input type="date" id="issue_date" name="issue_date" required>
                </div>
                <div>
                    <label for="issue_org">* Issuing organization</label>
                    <input type="text" id="issue_org" name="io" required>
                </div>
                <div>
                    <label for="url">Url</label>
                    <input type="url" id="url" name="url" placeholder="Enter Url">
                </div>
                <div>
                    <label for="doi">Doi</label>
                    <input type="text" id="doi" name="doi" placeholder="Enter Doi">
                </div>
                <div>
                    <label for="volume">Volume</label>
                    <input type="text" id="volume" name="volume" placeholder="Enter Volume">
                </div>
                <div>
                    <label for="page-no">Page No.</label>
                    <input type="number" id="page-no" name="page-no" placeholder="Enter Page No">
                </div>
                <div>
                    <label for="publisher">Publisher</label>
                    <input type="text" id="publisher" name="publisher" placeholder="Enter Publisher Name">
                </div>
                <div>
                    <label for="file">File</label>
                    <input type="file" id="file" name="file">
                </div>
                <input type="submit" value="Save"/>
                <button type="button" onclick="togglePublications()">Cancel</button>
            </form>
        </div>
        {% endif %}

    </div>


    <script>
        function toggleExpertise() {
            var form = document.getElementById("expertise-form");
            var body = document.getElementById("expertise-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function toggleEmail() {
            var form = document.getElementById("email-section-form");
            var body = document.getElementById("email-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function togglePersonalInfo() {
            var form = document.getElementById("personal-info-section-form");
            var body = document.getElementById("personal-info-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function toggleContactInfo() {
            var form = document.getElementById("contact-info-section-form");
            var body = document.getElementById("contact-info-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function toggleExperience() {
            var form = document.getElementById("experience-section-form");
            var body = document.getElementById("experience-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function toggleEducationQualification() {
            var form = document.getElementById("education-qualification-section-form");
            var body = document.getElementById("education-qualification-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function toggleHonoursAndAwarda() {
            var form = document.getElementById("honours-and-awards-section-form");
            var body = document.getElementById("honours-and-awards-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function toggleDoctoralThesesGuided() {
            var form = document.getElementById("doctoral-theses-guided-section-form");
            var body = document.getElementById("doctoral-theses-guided-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function toggleMembershipInCommittees() {
            var form = document.getElementById("membership-in-committees-section-form");
            var body = document.getElementById("membership-in-committees-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function toggleResearchProjects() {
            var form = document.getElementById("research-projects-section-form");
            var body = document.getElementById("research-projects-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function togglePatent() {
            var form = document.getElementById("patent-section-form");
            var body = document.getElementById("patent-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function togglePublications() {
            var form = document.getElementById("publications-section-form");
            var body = document.getElementById("publications-section-body");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
        function toggleAbout() {
            var form = document.getElementById("about-form");
            var body = document.getElementById("about-para");
            if (form.style.display === "block") {
                body.style.display = "block";
                form.style.display = "none";
            } else {
                body.style.display = "none";
                form.style.display = "block";
            }
        }
    </script>


</main>
{% endblock %}